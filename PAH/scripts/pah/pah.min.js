var PAH,pah;(function(n){"option strict";function t(n){return n===undefined?!0:n===null?!0:n===NaN?!0:n==={}?!0:n===[]?!0:String(n).trim().length===0?!0:!1}function i(n,i){return i===void 0&&(i=undefined),t(n)?i:n}n.IsBlank=t;n.IfBlank=i;var r=function(){function n(n,r,u,f,e){var o=this;this.$parse=n;this.$http=r;this.$mdToast=u;this.$mdSidenav=f;this.$log=e;this.user=undefined;this.login=function(){FB.login(null,{scope:"user_friends"})};this.logout=function(){FB.logout()};this.toggleMenu=function(){o.$mdSidenav("left").toggle();o.$log.debug("PAH toggleMenu")};this.toast=function(n){o.$mdToast.show(o.$mdToast.simple().textContent(n).position("top right"))};this.execute=function(n,r,u){return o.$http.post("/execute.ashx",n).then(function(f){if(o.$log.debug(f),f.data.success)return t(r)||o.$parse(i(u,n.name)).assign(r,f.data.data),f.data.data;var e=i(f.data.error,"Unexpected Error");e.substr(0,4)==="pah:"?o.toast(e.substr(5)):(o.toast("An unexpected error occurred"),o.$log.debug("PAH execute error:",n.name,e));return})}}return n.$inject=["$parse","$http","$mdToast","$mdSidenav","$log"],n}();n.Service=r})(PAH||(PAH={}));pah=angular.module("pah",["ngRoute","ngMaterial"]);pah.service("$pah",PAH.Service);pah.config(["$logProvider","$mdThemingProvider",function(n,t){n.debugEnabled(document.getElementById("pahScript").getAttribute("data-debug")==="true");t.theme("default").primaryPalette("blue").accentPalette("teal").warnPalette("red").backgroundPalette("grey")}]);pah.run(["$window","$rootScope","$locale","$pah","$mdSidenav","$log",function(n,t,i,r,u,f){t.$pah=r;n.fbAsyncInit=function(){FB.Event.subscribe("auth.authResponseChange",function(n){n.status==="connected"?FB.api("/me",{access_token:n.authResponse.accessToken,fields:["id","name","first_name","last_name","gender","birthday","email","timezone","locale"]},function(i){t.$apply(function(){r.user=i;r.toast("Hello "+r.user.first_name+"!");f.debug("FB login",i);FB.api("/me/friends",{access_token:n.authResponse.accessToken,fields:["id"]},function(n){t.$apply(function(){r.user.friends=n;f.debug("FB login",n)})})})}):t.$apply(function(){r.toast("Goodbye "+r.user.first_name+"!");delete r.user;f.debug("FB logout",n)})});var n={appId:"1376598962611648",status:!1,cookie:!0,xfbml:!0,version:"v2.5"};FB.init(n);f.debug("FB init",n)};f.debug("PAH running (",i.id,")")}]);