var PAH,pah;(function(n){"option strict";function i(n){return n===undefined?!0:n===null?!0:n===NaN?!0:n==={}?!0:n===[]?!0:String(n).trim().length===0?!0:!1}function t(n,t){return t===void 0&&(t=undefined),i(n)?t:n}var r,u;n.IsBlank=i;n.IfBlank=t;r=function(){function n(n,t,i,r,u){var f=this;this.$parse=n;this.$http=t;this.$mdToast=i;this.$mdSidenav=r;this.$log=u;this.user=undefined;this.login=function(){FB.login(null,{scope:"user_friends"})};this.logout=function(){FB.logout()};this.toggleMenu=function(){f.$mdSidenav("left").toggle();f.$log.debug("PAH toggleMenu")};this.toast=function(n){f.$mdToast.show(f.$mdToast.simple().textContent(n).position("top right"))}}return n.$inject=["$parse","$http","$mdToast","$mdSidenav","$log"],n}();n.Service=r,function(n){var i=function(){function n(n,i,r,u){var f=this;this.$http=n;this.$parse=i;this.$pah=r;this.$log=u;this.execute=function(n,i,r){var u=i?!1:!0;return n.nonQuery=u,f.$http.post("/execute.ashx",n).then(function(e){if(e.data.success)u||f.$parse(t(r,n.name)).assign(i,e.data.data);else{var o=t(e.data.error,"Unknown Error");o.substr(0,4)==="pah:"?f.$pah.toast(o.substr(5)):(f.$pah.toast("An unknown error occurred"),f.$log.debug(o))}})}}return n.$inject=["$http","$parse","$pah","$log"],n}();n.Service=i}(u=n.Procedure||(n.Procedure={}))})(PAH||(PAH={}));pah=angular.module("pah",["ngRoute","ngMaterial"]);pah.service("$pah",PAH.Service);pah.service("$procedure",PAH.Procedure.Service);pah.config(["$logProvider","$mdThemingProvider",function(n,t){n.debugEnabled(document.getElementById("pahScript").getAttribute("data-debug")==="true");t.theme("default").primaryPalette("blue").accentPalette("teal").warnPalette("red").backgroundPalette("grey")}]);pah.run(["$window","$rootScope","$locale","$pah","$mdSidenav","$log",function(n,t,i,r,u,f){t.$pah=r;n.fbAsyncInit=function(){FB.Event.subscribe("auth.authResponseChange",function(n){n.status==="connected"?FB.api("/me",{access_token:n.authResponse.accessToken,fields:["id","name","first_name","last_name","gender","birthday","email","timezone","locale"]},function(i){t.$apply(function(){r.user=i;r.toast("Hello "+r.user.first_name+"!");f.debug("FB login",i);FB.api("/me/friends",{access_token:n.authResponse.accessToken,fields:["id"]},function(n){t.$apply(function(){r.user.friends=n;f.debug("FB login",n)})})})}):t.$apply(function(){r.toast("Goodbye "+r.user.first_name+"!");delete r.user;f.debug("FB logout",n)})});var n={appId:"1376598962611648",status:!1,cookie:!0,xfbml:!0,version:"v2.5"};FB.init(n);f.debug("FB init",n)};f.debug("PAH running (",i.id,")")}]);